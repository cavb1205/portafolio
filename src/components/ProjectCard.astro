---
export interface Props {
  title: string;
  description: string;
  image: string;
  alt?: string;
  url: string;
  github?: string;
  tags: string[];
}

const {
  title,
  description,
  image,
  alt = title,
  url,
  github,
  tags,
} = Astro.props;

// Asignar colores específicos para las etiquetas de tecnologías
const tagColors: Record<string, string> = {
  React: "text-blue-400",
  "Next.js": "text-gray-100",
  Astro: "text-purple-400",
  "Tailwind CSS": "text-sky-400",
  JavaScript: "text-yellow-300",
  TypeScript: "text-blue-400",
  Django: "text-green-600",
  PostgreSQL: "text-blue-500",
  Docker: "text-blue-500",
  "API REST": "text-orange-400",
  Wordpress: "text-blue-500",
  WooCommerce: "text-purple-400",
  Postgres: "text-blue-500",
  "Digital Ocean": "text-white",
  "Vercel": "text-white",
};
---

<article
  class="bg-dark-lighter rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-shadow h-full flex flex-col"
>
  <div class="relative">
    <img src={image} alt={alt} class="w-full h-48 object-cover object-center" />
    <div class="absolute top-2 right-2 flex gap-2">
      {
        github && github !== "#" && (
          <a
            href={github}
            target="_blank"
            rel="noopener"
            class="bg-dark-darker bg-opacity-80 p-2 rounded-full hover:bg-opacity-100 transition-all"
            aria-label="Ver código en GitHub"
          >
            <i class="ri-github-fill text-white text-lg" />
          </a>
        )
      }
      {
        url && url !== "#" && (
          <a
            href={url}
            target="_blank"
            rel="noopener"
            class="bg-dark-darker bg-opacity-80 p-2 rounded-full hover:bg-opacity-100 transition-all"
            aria-label="Ver proyecto"
          >
            <i class="ri-external-link-fill text-white text-lg" />
          </a>
        )
      }
    </div>
  </div>

  <div class="p-4 flex flex-col flex-grow">
    <h3 class="text-primary text-xl font-bold mb-2">{title}</h3>
    <p class="text-gray-300 text-sm mb-4 flex-grow">{description}</p>

    <div class="flex flex-wrap gap-2 mt-2">
      {
        tags.map((tag) => (
          <span
            class={`text-xs bg-dark-darker px-2 py-1 rounded ${tagColors[tag] || "text-secondary"}`}
          >
            {tag}
          </span>
        ))
      }
    </div>
  </div>
</article>
